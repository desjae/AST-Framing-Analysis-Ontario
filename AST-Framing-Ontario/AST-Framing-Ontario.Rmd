---
title: "Framing active school travel in Ontario, or how spinach is good for you"
author:
  - name: Elise Desjardins
    email: desjae@mcmaster.ca
    affiliation: McMaster University
  - name: Jason Lam
    email: lamj54@mcmaster.ca
    affiliation: McMaster University
  - name: Darcy Reynard 
    email: reynard@ualberta.ca
    affiliation: University of Alberta
  - name: Damian Collins
    email: damian.collins@ualberta.ca
    affiliation: University of Alberta
  - name: E. Owen D. Waygood
    email: owen.waygood@polymtl.ca
    affiliation: Polytechnique Montreal
  - name: Antonio Paez
    email: paezha@mcmaster.ca
    affiliation: McMaster University
    correspondingauthor: true
    footnote: 1
address:
  - code: McMaster University
    address: School of Earth, Environment and Society, 1280 Main St. W, Hamilton, Ontario, Canada L8S 4K1
  - code: University of Alberta
    address: Department of Earth and Atmospheric Sciences, 1-26 Earth Sciences Building, Edmonton, Alberta, Canada T6G 2E3
  - code: Polytechnique Montreal
    address: Department of Civil, Geological and Mining Engineering, 2500, chemin de Polytechnique Montreal, Montreal, Quebec, Canada H3T 1J4
footnote:
  - code: 1
    text: "Corresponding author."
abstract: |
  Active school travel (AST) is promoted in many jurisdictions, including Ontario, Canada, where there is provincial support for school travel planning (STP) efforts. Two pillars of school travel plans in the province are education and encouragement. For these pillars to stand, relevant stakeholders must be cognizant of and understand the issues and stakes. For this reason, we deem it important to understand how AST is communicated. In this research we adopt framing analysis to investigate the ways in which various organizations communicate to the public around AST. A frame is a central organizing idea or story line that provides meaning to a particular phenomenon, and thus helps to set the parameters for conversations about policy. In the case of AST, framing can influence what policy alternatives are perceived as available by children, parents, and their wider communities. The research is supported by natural language processing techniques applied to publicly available documents from Ontario stakeholders involved in school travel planning. We then compare the findings from these documents to a selection of academic studies on AST. We conclude that framing of AST in Ontario is mostly empirical-scientific in style, and largely in agreement with academic research on AST. However, it is essentially conservative and does not challenge the status quo of motorized travel. Furthermore, the frames tend to download responsibility for change to households, which limits the scope of policy alternatives by keeping collective action out of the frame.
    
keywords: 
  - active school travel
  - school travel planning
  - natural language processing
  - framing analysis
journal: "Transportation Research Part A: Policy and Practice"
date: "`r Sys.Date()`"
classoption: preprint, 3p, authoryear
bibliography: bibliography.bib
linenumbers: false
numbersections: true
# Use a CSL with `citation_package = "default"`
# csl: https://www.zotero.org/styles/elsevier-harvard
output: 
  rticles::elsevier_article:
    keep_tex: true
    citation_package: natbib
---

```{r echo=FALSE}
rm(list = ls())
```

```{r load-packages, include=FALSE}
library(DiagrammeR)
library(dplyr)
library(ggraph)
library(ggplot2)
library(igraph)
library(kableExtra)
library(pdftools)
library(readr)
library(reshape2)
library(stringr)
library(text2vec)
library(textdata)
library(tidyr)
library(tidytext)
library(tm) 
library(tools)
library(topicmodels)
library(widyr)
library(word2vec)
library(wordcloud)
library(ldatuning)
library(quanteda)
```

```{r load-data, include=FALSE}
load(file= "Corpus .rda/academic_corpus_repaired.rda")
load(file= "Corpus .rda/municipal_corpus.rda")
load(file= "Corpus .rda/consortium_corpus.rda")
load(file= "Corpus .rda/school_corpus.rda")
load(file= "Corpus .rda/policy_corpus.rda")
load(file= "Corpus .rda/raw_policy_corpus.rda")
```

```{r package-bib, include=FALSE}
# This function is used to write a bibliography for the `R` packages used in the paper
knitr::write_bib(file = 'packages.bib')
```
  
\newpage

Introduction
===============

Walking and bicycling to school, commonly known as active school travel (AST), have declined in North America for decades [@rothmanDeclineActiveSchool2018], but the appetite for these modes is beginning to rise in many Canadian communities. For instance, research in Toronto, Ontario found that 40% of children who were driven to school would like to travel by bicycle instead [@laroucheRatherBikeSchool2016]. Another study in London, Ontario, reported similar findings with respect to children's preference for active travel [@larsenRouteBasedAnalysisCapture2012]. From a public policy perspective, increasing active travel to school presents major opportunities to improve children's health and wellbeing [@faulknerActiveSchoolTransport2009], to mitigate traffic and improve perceptions of safety [@rothmanAssociationsParentsPerception2015], as well as to reduce emissions and other forms of pollution [@bearman2014modelling; @goodman2019scenarios].

To promote this trend, in 2017 the Government of Ontario began to support communities develop AST initiatives through a program called _Ontario Active School Travel_ (OAST). By 2021, the program, run by _Green Communities Canada_ had awarded over CAD 2 million and provided resources to over 25 projects across Ontario [@GreenCommunities2016]. A popular intervention in many communities is school travel planning (STP) [see @GreenCommunitiesProjects]. In this context, STPs are "school-specific" interventions led by a facilitator who works with a committee of stakeholders from diverse sectors including education, planning, transportation, and public health to develop action plans [@buliungSchoolTravelPlanning2011; @mammenSchoolTravelPlanning2014]. The five-step process involves identifying barriers to AST and implementing solutions or activities to make AST safer and more convenient: 1) setup of the program; 2) data collection and problem identification; 3) action planning; 4) implementation; 5) monitoring and evaluation [@hinckson2018school].

How AST is presented to a target audience (e.g., parents or the general public) is essential to define the parameters of what is possible policy-wise. Drawing from concepts in communication studies, the objective of this paper is to investigate how AST is framed in Ontario. Gamson and Modigliani [-@gamsonChangingCulture1987] define a frame as a “central organizing idea or story line that provides meaning” to a particular phenomenon. A frame can enable individuals "to locate, perceive, identify, and label" information pertaining to various dimensions of an issue [@goffmanFrameAnalysisEssay1974]. From this perspective, stakeholders involved in STP efforts play an important role in shaping public perceptions about AST by generating frames that create meaning, and thus influence the degree of attention and recognition of a "problem" that needs to be addressed through behavior change or new policies.

Our research is supported by natural language processing techniques, applied to the analysis of documents produced by three STP stakeholder groups in Ontario (municipalities, school boards, and transportation consortia). We assemble a corpus of texts from public sources that present information for the general public or parents who are interested in AST and examine word frequency, bigrams, and concordances in these selected documents. Furthermore, we use topic analysis to identify themes presented by each stakeholder group. We then compare the findings from these documents to a selection of studies on AST and explore the extent to which there is concordance between the scholarly literature on AST and materials shared with the public. The results of this analysis, along with manual checks of the corpus by the authors, lead us to conclude that AST is framed as a matter of individual choices instead of collective action. The message is reasonable but inherently conservative and it fails to communicate a sense of urgency about health and environmental issues, which may help to explain the modest success of related policies [@buliungSchoolTravelPlanning2011; @mammenSchoolTravelPlanning2014; @mammenActiveSchoolTravel2014].

<!-- Compare the definition of "frame" to that of "narrative":

FRAME
A frame is a central organizing idea or story line that provides meaning to a particular phenomenon, and that enables individuals to locate, perceive, identify, and label information pertaining to various dimensions of an issue.

NARRATIVE (See [@liu2023narrative]

A narrative is defined as “a representation of connected events and characters that has an identifiable structure, is bounded in space and time, and contains implicit or explicit messages about the topic being
addressed”)
-->

Literature Review: AST
======================

The desire to increase AST in Canada is warranted given its potential physical and mental health benefits. Faulkner et al. [-@faulknerActiveSchoolTransport2009] concluded from their systematic review that children who travel on foot or by bicycle to school generally have higher levels of physical activity than their peers who are driven to school. This relationship could be dose-dependent, and contingent on sufficiently long trips to school to accumulate physical activity. A walking distance of 1000-1600 metres to school has been found to contribute to overall levels of physical activity for boys [@faulknerSchoolTravelChildren2013]. The daily routine of travelling to school can be a good opportunity for children to regularly build physical activity into their schedule [@mitraIndependentMobilityMode2013].

More recently, the link between transport and children's wellbeing has attracted interest too [@waygoodTransportChildrenWellbeing2020]. Being driven to school reduces community interactions for children, which may negatively impact their social wellbeing [@waygoodChildrenTravelIncidental2015]. In contrast, walking and bicycling give children opportunities to socialize [@michailChildrenExperiencesTheir2021] and increase positive emotions that contribute to wellbeing [@ramanathanHappinessMotionEmotions2014a], a feeling that children seem to value [@zwertsHowChildrenView2010]. AST can also provide opportunities for children to engage with natural environments [@fuscoUnderstandingChildrenPerceptions2012; @romeroChildrenExperiencesEnjoyment2015].

<!--
ED:
Factors that influence AST have been presented and organized using a socio-ecological model (SEM) [@mitraIndependentMobilityMode2013] or systems model [@badlandDevelopmentSystemsModel2016] whereby children's travel behavior is understood within the context of household, social, neighbourhood, and policy environments. The SEM helps to identify multiple determinants that need to be addressed by school-based interventions to increase AST, with the consensus being that interventions should target multiple levels [@mitraIndependentMobilityMode2013]. 

AP:
I removed the SEM from the paper because it was used mainly to appeal to the social science and medicine crowd, but does not seem to be essential for the presentation to the transportation research community
-->

Rather than describing an extensive list of factors that influence AST and mode choice for travel to school in Canada [e.g., @mammenUnderstandingDriveEscort2012; @mitraIndependentMobilityMode2013; @rothmanDeclineActiveSchool2018; @wilsonUnderstandingChildParent2018], we focus on two key aspects that may be targeted from a policy perspective: built environmental factors and perceptions and behaviors of parents.

<!-- Physical factors -->

The built environment is a key factor for physical planning, and in this respect distance between home and school is the factor most negatively associated with AST [@ikedaAssociationsChildrenActive2018; @mammenUnderstandingDriveEscort2012; @pontEnvironmentalCorrelatesChildren2009; @rothmanDeclineActiveSchool2018] with less AST reported among children who have to travel farther to school. Many studies have also found that the quality of the built environment along the route to school and around the school site [@ikedaAssociationsChildrenActive2018; @rothmanActiveSchoolTransportation2021] and provision of active travel infrastructure [@chenPromotingActiveStudent2018; @pontEnvironmentalCorrelatesChildren2009] facilitate AST. Canadian youth report that they feel most safe bicycling on streets in their neighbourhood or that have low volumes of traffic [@TACbikeinfra2020]. Finally, concerns about traffic and strangers have been reported by parents who drive their children to school [@mammenUnderstandingDriveEscort2012]: ironically, concerns about the dangers of traffic become a vicious cycle [@rothmanSchoolEnvironmentStudent2017].

<!-- Influence of perceptions -->

Secondly, research has found that parents are key decision-makers with respect to children's mode of travel to school [@rothmanAssociationsParentsPerception2015]. Particularly, after distance [@curtis2015built], parental perceptions of the built or school environment, as well as of their children's skills, have been found to be key in influencing mode choice to school [@demeesterParentalPerceivedNeighborhood2014; @panterAttitudesSocialSupport2010; @mandic2020differences; @mammenUnderstandingDriveEscort2012; @faulknerWhatQuickestEasiest2010]. For example, @ramanathanHappinessMotionEmotions2014a found that parents and children who perceived active travel as beneficial for health and wellbeing benefits were more likely to use active modes to get to school. Furthermore, children's mode choice to school is strongly influenced by their parents' travel behaviors, the complexity of their household's travel needs [@buliungLivingJourneySchool2021], as well as daily parental support [@mahDoesParentalSupport2017a]. This suggests that shifting parental perceptions and habits is important.

School travel planning in Canada and relevance of frames {#stp-frames}
======================

AST has become a policy issue on the education and public health agendas in Ontario, and is supported, albeit in a modest way, by financial contributions from the provincial government. Still, endorsement from a range of municipal representatives [see @buttazzoniSupportingActiveSchool2018; @mammenPuttingSchoolTravel2015] demonstrates that the AST issue is on the political agenda. One of the main vehicles to promote AST is school travel planning (STP), which has been implemented in Canada since at least the late 2000s. Within the STP process, facilitators establish multi-sector committees which intervene at the participating school through four pillars consisting of _[E]ducation_ strategies, _[E]ncouragement_ through in-person events or programs, _[E]ngineering_ improvements to or around the school site, and _[E]nforcement_ of traffic speeds around schools [or 4Es, @langUnderstandingModalChoice2011; @mammenActiveSchoolTravel2014]. Of the 4Es, [E]ngineering targets the first set of factors discussed in the preceding section (the built environment), whereas [E]ducation and [E]ncouragement target perceptions.

The relevance of policy frames with respect to education and encouragement is highlighted by @beland2014developing, who remarks "framing processes as public relations are central to policy issues related to sustainable transportation". Seeing how influential parental perceptions are to AST, it is important to understand AST-related communications, since the construction of frames for policy positions or public issues can activate or restrict a particular response in the intended audience [@panFramingAnalysisApproach1993]. Besides parents and children, framing can also affect broader policy support for AST in the community. Municipal representatives are perceived to be instrumental but the involvement of other stakeholder groups (e.g., busing consortia representatives and local residents) can be lacking [@buttazzoniSupportingActiveSchool2018]. In this sense, framing can be used to position existing solutions as suitable to address particular issues [@mahFramecriticalPolicyAnalysis2014], which may prevent the public from being aware of other policy approaches that challenge the status quo. Contrariwise, framing can be instrumental to revealing more diverse policy options than conventional wisdom would have [@bosomworth2015climate]. Ultimately, it is important to understand framing of policy issues because creating meaning through frames contributes to the constant process of shaping our collective understanding of issues, uncovering what we collectively find (un)acceptable and why [@beland2014developing].

Given the role of education and encouragement in STP, it is important for the issues to be effectively framed. In the past, parents have been found to express understandings, language, and perceptions regarding the influence of the built environment on school travel that markedly differ from those of planners: while parents tend to view mixed land use as conducive for driving, transport planners see mixed uses as a key for encouraging more active travel [@buliungLivingJourneySchool2021]. Similarly mismatched understandings have been detected with respect to factors like the convenience of different modes to school [@langUnderstandingModalChoice2011]. As a consequence, STP stakeholders must pay special attention to parents' and communities' understanding of the decline of AST as a problem, which may affect their receptivity to proposed solutions [@buttazzoniSupportingActiveSchool2018].

Framing is important, but not all frames are equally effective. Frames can appeal to economic reasons, to science and logic, or to moral obligation. For example, @severson2015moral report that overall support for climate change policy increases more when scientific frames, secular moral frames, and economic equity frames are used, compared to economic efficiency or religious moral frames. Frames can also be positive or negative, and there is evidence that negative framing may be more effective at motivating individuals, for example, to change transport modes to reduce CO2 emissions [@waygoodCO2ValenceFraming2018]. As well, the effectiveness of the framing depends on the psychological distance to the relevant issues: how socially, temporally, geographically, or hypothetically close an individual perceives themselves to the issues can affect their support for various policies [@maiella2020psychological]. For this reason, stakeholders involved in STP must make conscious choices about how issues surrounding AST are communicated if the goal is to increase support for and buy-in of AST policies.

Data
===============

## Data retrieval

### Policy documents

We assembled a collection of publicly available documents that were sourced online from the main stakeholder groups involved in STP initiatives in Ontario: i) school boards (public or Catholic and English-speaking only); ii) municipal governments; and iii) transportation consortia. The latter involve collaborations between municipal regions and school boards to deliver more efficient and timely regional transportation services to schools. Non-profit organizations, police services, and advocacy groups are other stakeholders who often play a role in supporting AST and/or STP, but this study does not include any documents from these groups because they do not consistently participate in STP initiatives in Ontario. 

The search was guided first by a list of all English public and Catholic school boards across Ontario. The websites of each school board were manually searched for pages related to school transport or travel. Any pages relevant to these topics were downloaded. Next, we searched municipal government and transportation consortia websites. These were identified based on geographic area. Likewise, webpages related to active transport or school travel were downloaded. 

Webpages from STP stakeholder groups were included in our analysis if they were findable. This primary criterion was important since our analysis pertains communication of issues to the general public. Thus, we included only webpages that were readily accessible, which we defined as requiring no more than four links from the initial Google search to reach.

The initial corpus of documents from STP stakeholder groups included 69 relevant webpages. We refer to these as policy+practice documents throughout the paper. It is important to note that school boards, municipalities, and transportation consortia may or may not publish information about their involvement in AST and STP efforts on their respective websites or in policy documents. Search results are summarized in Table \ref{tab:policy-documents}.

```{r policy-documents, echo=FALSE}
data_tbl <- data.frame(
  Stakeholder = c("School boards", "Municipalities", "Transportation consortia"),
  Total = c("62", "62", "39"),
  Retrieved = c("32", "28", "9")
)

kable(data_tbl,
      "latex",
      booktabs = TRUE,
      caption = "\\label{tab:search-results}Search results from the main STP stakeholder groups.") %>%
  kable_paper(full_width = F) %>%
  column_spec(1, bold = T, border_right = T) %>%
  column_spec(3, border_left = T) %>%
  kable_styling(latex_options = c("striped"))
```

### Academic papers

We conducted a search on Web of Science for scholarly papers on the topic of school travel using Web of Science's Core Collection. The search was conducted in the Winter of 2021 and the parameters used were {active OR walk* or cycl* or bicycl*} AND {"school travel"}. Initially, we found 322 papers, which we reduced to 250 after selecting only papers in the fields of transportation, planning, urban studies, geography, and public health. These fields were chosen because they had the greatest volume of documents and/or were of disciplinary interest to the authors. This list with 250 documents was then manually curated by the authors to ensure that all documents were relevant. This was done by checking the title and reading the abstract of the papers. For example, a paper with the title "Impact of automated photo enforcement of vehicle speed in school zones" [@quistberg2019impact] was excluded as being tangential to our research; the abstract of another paper revealed that it was mainly concerned with survey methods: "Common methods for measuring mode share include Hands Up surveys and family surveys, but these require teacher and parental involvement." [@sersli2019getting]. After this process, our academic corpus comprised 227 journal articles that were readied for analysis.

## Data cleaning

A multi-step process was conducted to ensure that the analysis captured as much text as possible from both the policy documents (n = 64) and academic papers (n = 227). Webpages were manually downloaded in portable document format (PDF) and trimmed so that pages that only consisted of tables, figures, or references were removed. After converting into `txt` files and importing for analysis, we manually removed any remaining tables, figures, references, headers/footings, and captions that could not be trimmed. We also manually removed any extraneous material that did not pertain to AST specifically (e.g., references, footnotes, weblinks, etc.). In the final step, we removed all blank spaces, punctuation, capitalization, and numbers. English stop words (i.e., words such as _and_ or _the_) and other frequent terms in the documents like "school" and specific location names were removed from the corpora.

Methods
===============

## Process of Framing Analysis

Topic modelling was used to analyze the documents retrieved. This is a natural language processing technique used to analyze text to identify the language and concepts being communicated. This method is practical for researchers working with large amounts of text because it can assist and complement the manual coding of topics that would normally take place to analyze or summarize textual data [@jacobiQuantitativeAnalysisLarge2016]. We primarily use the following `R` packages: `tidytext` [@silge2016tidytext], `topicmodels` [@grun2011topic], `word2vec` [@wijffels2021word2vec], and `wordcloud` [@fellows2018wordloud].

We estimate latent Dirichlet allocation (LDA) models to identify topics contained in both the STP and academic documents. The model's output is "a set of topics consisting of clusters of words that co-occur in these documents according to certain patterns" [@jacobiQuantitativeAnalysisLarge2016]. Researchers must then interpret the identified topics, as done after other methods of manual coding.

## Reproducibility

This paper is an example of open and reproducible research that uses only open software. The source document is an R markdown document. Following best practices in spatial data science [@brunsdon2020opening], the code and data needed to reproduce our research or conduct a similar analysis for other regions are available in a publicly available repository^[\url{https://github.com/desjae/AST-Framing-Analysis-Ontario}]. 

Results
===============

## Word and document frequency

We analyzed word and document frequency for each corpus of text. Table \ref{tab:word-table} shows the most frequent terms found in the municipal, transportation consortia, school board, and academic documents. Policy documents and academic papers reference _active_, _travel_, _walking_, _biking_ or _cycling_, and _students_ more than other terms. Each corpus also has _safety_ and _traffic_ as common words, which suggests that these are common concerns. The word _physical_ is present in each corpus, but this could refers to _physical activity_ or the _physical environment_. Furthermore, documents from STP stakeholder groups discuss _resources_, _information_, and _services_ about school travel. Unlike the academic papers, policy+practice documents frequently include the words _route_ or _routes_. This could indicate the role of STP stakeholder groups in identifying safe routes to school to share with parents or families. In the section below, the context in which these terms are used is explored further.

The academic corpus differs from the policy documents in that _parents_ and _distance_ are the second and third most common terms. In addition, _time_, _factors_, _environment_, and _age_ are also identified in the academic papers. The prevalence of these terms is consistent with an academic focus on exploring the variables that influence travel to school. These words are absent from the list of common words in policy+practice documents. Table \ref{tab:word-table} indicates that the academic corpus discusses a broader range of determinants of AST than the policy documents. The number of references for each term in the academic papers is also substantially higher due to the inclusion of more documents.

```{r municipal-term-frequency, echo=FALSE}
# Create new data frame with the cleaned corpus 
MunicipalTextDF <- data.frame(text = sapply(municipal_corpus, as.character), stringsAsFactors = FALSE)

municipal_it_train = itoken(MunicipalTextDF$text, progressbar = FALSE)
municipal_vocab = create_vocabulary(municipal_it_train)

# Cut out terms that have a minimum count of 1 
municipal_vocab <- prune_vocabulary(municipal_vocab, term_count_min = 1)
```

```{r consortia-term-frequency, echo=FALSE}
# Create new data frame with the cleaned corpus 
ConsortiumTextDF <- data.frame(text = sapply(consortium_corpus, as.character), stringsAsFactors = FALSE)

consortium_it_train = itoken(ConsortiumTextDF$text, progressbar = FALSE)
consortium_vocab = create_vocabulary(consortium_it_train)

# Cut out terms that have a minimum count of 1
consortium_vocab <- prune_vocabulary(consortium_vocab, term_count_min = 1)
```

```{r school-term-frequency, echo=FALSE}
# Create new data frame with the cleaned corpus 
SchoolTextDF <- data.frame(text = sapply(school_corpus, as.character), stringsAsFactors = FALSE)

school_it_train = itoken(SchoolTextDF$text, progressbar = FALSE)
school_vocab = create_vocabulary(school_it_train)

# Cut out terms that have a minimum count of 1 
school_vocab <- prune_vocabulary(school_vocab, term_count_min = 1)
```

```{r academic-term-frequency, echo=FALSE}
# Create new data frame with the cleaned corpus 
AcademicTextDF <- data.frame(text = sapply(academic_corpus_repaired, as.character), stringsAsFactors = FALSE)

it_train = itoken(AcademicTextDF$text, progressbar = FALSE)
academic_vocab = create_vocabulary(it_train)

# Cut out terms that have a minimum count of 100 
academic_vocab <- prune_vocabulary(academic_vocab, term_count_min = 100)
```

```{r top-word-frequencies, echo=FALSE}
municipal_words <- municipal_vocab %>% slice(1938:1914)
school_words <- school_vocab %>% slice(1812:1788)
consortia_words <- consortium_vocab[-c(971),] %>% slice(993:968)
academic_words <- academic_vocab[-c(1289, 1284),] %>% slice(1291:1265)
```

```{r word-table, echo=FALSE}
top_words <- cbind(
  municipal_words,
  school_words,
  consortia_words,
  academic_words)

colnames(top_words) <- c("Term", "Count (n)", "Documents (n)", "Term", "Count (n)", "Documents (n)", "Term", "Count (n)", "Documents (n)", "Term", "Count (n)", "Documents (n)")

# add frequency term count / words

kable(top_words,
      "latex",
      booktabs = TRUE,
      col.names = c("Term",
                    "Count (n)",
                    "Documents (n)",
                    "Term",
                    "Count (n)",
                    "Documents (n)",
                    "Term",
                    "Count (n)", 
                    "Documents (n)",
                    "Term",
                    "Count (n)",
                    "Documents (n)"),
      align = c("l", "c", "c", "l", "c", "c", "l", "c", "c", "l", "c", "c"), 
      caption = "\\label{tab:word-table}Top 25 terms identified in each corpus. Document frequencies are also indicated.") %>%
  kable_styling(latex_options = c("striped", "scale_down")) %>%
  add_header_above(c("Municipalities" = 3, "School Boards" = 3, "Transportation Consortia" = 3, "Academic Papers" = 3)) %>%
  footnote(general = " ",
           alphabet = c("Count (n) refers to the total number of times the term is found in the corpora", "Documents (n) refers to the total number of documents that feature the term"))
```

Examination of document frequency reveals terms that are not present in all policy documents. This suggests that although documents pertain to school travel, not all stakeholders across Ontario disseminate information about AST. We manually searched the policy+practice corpus and found that 48% of documents mention AST and 16% mention STP. In contrast, inclement weather and its impacts on busing is a common topic addressed in school board and transportation consortia documents. 

## Bigrams and concordances

```{r city-bigrams, include=FALSE, echo=FALSE}
# Converting corpus to tidytext data type 
td_municipal_corpus <- tidy(municipal_corpus)

# n can be changed 
municipal_bigrams <- td_municipal_corpus %>%
  unnest_tokens(bigram, text, token = "ngrams", n = 2)

municipal_trigrams <- td_municipal_corpus %>%
  unnest_tokens(trigram, text, token = "ngrams", n = 3)

# Bigrams and trigrams that are most common 
top_municipal_bigrams <- municipal_bigrams %>%
  count(bigram, sort = TRUE)

top_municipal_trigrams <- municipal_trigrams %>% 
  count(trigram, sort = TRUE)
```

```{r consortia-bigrams, include=FALSE, echo=FALSE}
# Converting corpus to tidytext data type 
td_consortium_corpus <- tidy(consortium_corpus)

# n can be changed 
consortium_bigrams <- td_consortium_corpus %>%
  unnest_tokens(bigram, text, token = "ngrams", n = 2)

consortium_trigrams <- td_consortium_corpus %>%
  unnest_tokens(trigram, text, token = "ngrams", n = 3)

# Bigrams and trigrams that are most common 
top_consortium_bigrams <- consortium_bigrams %>%
  count(bigram, sort = TRUE)

top_consortium_trigrams <- consortium_trigrams %>% 
  count(trigram, sort = TRUE)
```

```{r school-bigrams, include=FALSE, echo=FALSE}
# Converting corpus to tidytext data type 
td_school_corpus <- tidy(school_corpus)

# n can be changed 
school_bigrams <- td_school_corpus %>%
  unnest_tokens(bigram, text, token = "ngrams", n = 2)

school_trigrams <- td_school_corpus %>%
  unnest_tokens(trigram, text, token = "ngrams", n = 3)

# Bigrams and trigrams that are most common 
top_school_bigrams <- school_bigrams %>%
  count(bigram, sort = TRUE)

top_school_trigrams <- school_trigrams %>% 
  count(trigram, sort = TRUE)
```

```{r policy-bigrams, include=FALSE, echo=FALSE}
# Converting corpus to tidytext data type 
td_policy_corpus <- tidy(policy_corpus)

# n can be changed 
policy_bigrams <- td_policy_corpus %>%
  unnest_tokens(bigram, text, token = "ngrams", n = 2)

policy_trigrams <- td_policy_corpus %>%
  unnest_tokens(trigram, text, token = "ngrams", n = 3)

# Bigrams and trigrams that are most common 
top_policy_bigrams <- policy_bigrams %>%
  count(bigram, sort = TRUE)

top_policy_trigrams <- policy_trigrams %>% 
  count(trigram, sort = TRUE)
```

```{r academic-bigrams, include=FALSE, echo=FALSE}
# Converting corpus to tidytext data type 
td_academic_corpus <- tidy(academic_corpus_repaired)

# n can be changed 
academic_bigrams <- td_academic_corpus %>%
  unnest_tokens(bigram, text, token = "ngrams", n = 2)

academic_trigrams <- td_academic_corpus %>%
  unnest_tokens(trigram, text, token = "ngrams", n = 3)

# Bigrams and trigrams that are most common 
top_academic_bigrams <- academic_bigrams %>%
  count(bigram, sort = TRUE)

top_academic_trigrams <- academic_trigrams %>% 
  count(trigram, sort = TRUE)
```

```{r, include=FALSE}
municipal_bigrams_separated <- municipal_bigrams %>%
  separate(bigram, c("word1", "word2"), sep = " ")

municipal_bigram_counts <- municipal_bigrams_separated %>% 
  count(word1, word2, sort = TRUE)

# Adjust the parameter below to filter out based on number of occurrence

# Error will occur if n is outide the range of occurrences 

municipal_bigram_graph <- municipal_bigram_counts %>%
  filter(n > 8) %>%
  graph_from_data_frame()

set.seed(2021)

a <- grid::arrow(type = "closed", length = unit(.15, "inches"))
```

```{r, include=FALSE}
MunicipalTextDF <- data.frame(text = sapply(municipal_corpus, as.character), stringsAsFactors = FALSE)

M_it_train = itoken(MunicipalTextDF$text, progressbar = FALSE)
municipal_vocab = create_vocabulary(M_it_train)

municipal_vocab <- prune_vocabulary(municipal_vocab, term_count_min = 5)
municipal_vocab
```

```{r, include=FALSE}
ConsortiumTextDF <- data.frame(text = sapply(consortium_corpus, as.character), stringsAsFactors = FALSE)

C_it_train = itoken(ConsortiumTextDF$text, progressbar = FALSE)
consortium_vocab = create_vocabulary(C_it_train)

consortium_vocab <- prune_vocabulary(consortium_vocab, term_count_min = 5)
consortium_vocab
```

```{r, include=FALSE}
SchoolTextDF <- data.frame(text = sapply(school_corpus, as.character), stringsAsFactors = FALSE)

S_it_train = itoken(SchoolTextDF$text, progressbar = FALSE)
school_vocab = create_vocabulary(S_it_train)

school_vocab <- prune_vocabulary(school_vocab, term_count_min = 5)
school_vocab
```

```{r, include=FALSE}
PolicyTextDF <- data.frame(text = sapply(policy_corpus, as.character), stringsAsFactors = FALSE)

P_it_train = itoken(PolicyTextDF$text, progressbar = FALSE)
policy_vocab = create_vocabulary(P_it_train)

policy_vocab <- prune_vocabulary(policy_vocab, term_count_min = 5)
policy_vocab
```

```{r city-visual, include=FALSE, fig.align = 'center', out.width = "1\\linewidth", fig.cap = "\\label{fig:city-visual}Most common bigrams found in the municipal and regional government documents."}
ggraph(municipal_bigram_graph, layout = "fr") +
  geom_edge_link(aes(edge_alpha = n), show.legend = FALSE,
                 arrow = a, end_cap = circle(.07, 'inches')) +
  geom_node_point(color = "lightblue", size = 4) +
  geom_node_text(aes(label = name), repel = TRUE) + 
  theme_void()
```

```{r, include=FALSE}
consortium_bigrams_separated <- consortium_bigrams %>%
  separate(bigram, c("word1", "word2"), sep = " ")

consortium_bigram_counts <- consortium_bigrams_separated %>% 
  count(word1, word2, sort = TRUE)


# Adjust the parameter below to filter out based on number of occurrence

# Error will occur if n is outide the range of occurrences 

consortium_bigram_graph <- consortium_bigram_counts %>%
  filter(n > 5) %>%
  graph_from_data_frame()

set.seed(2021)

a <- grid::arrow(type = "closed", length = unit(.15, "inches"))
```
 
```{r consortia-visual, include=FALSE, fig.align = 'center', out.width = "1\\linewidth", fig.cap = "\\label{fig:consortia-visual}Most common bigrams found in the transportation consortia documents."}
ggraph(consortium_bigram_graph, layout = "fr") +
  geom_edge_link(aes(edge_alpha = n), show.legend = FALSE,
                 arrow = a, end_cap = circle(.07, 'inches')) +
  geom_node_point(color = "red", size = 4) +
  geom_node_text(aes(label = name), repel = TRUE) + 
  theme_void()
```
 
```{r, include=FALSE}
school_bigrams_separated <- school_bigrams %>%
  separate(bigram, c("word1", "word2"), sep = " ")

school_bigram_counts <- school_bigrams_separated %>% 
  count(word1, word2, sort = TRUE)


# Adjust the parameter below to filter out based on number of occurrence

# Error will occur if n is outide the range of occurrences 

school_bigram_graph <- school_bigram_counts %>%
  filter(n > 8) %>%
  graph_from_data_frame()

set.seed(2021)

a <- grid::arrow(type = "closed", length = unit(.15, "inches"))
```

```{r school-visual, include=FALSE, fig.align = 'center', out.width = "1\\linewidth", fig.cap = "\\label{fig:school-visual}Most common bigrams found in the school board documents."}
ggraph(school_bigram_graph, layout = "fr") +
  geom_edge_link(aes(edge_alpha = n), show.legend = FALSE,
                 arrow = a, end_cap = circle(.07, 'inches')) +
  geom_node_point(color = "orange", size = 4) +
  geom_node_text(aes(label = name), repel = TRUE) + 
  theme_void()
```

```{r, include=FALSE}
policy_bigrams_separated <- policy_bigrams %>%
  separate(bigram, c("word1", "word2"), sep = " ")

policy_bigram_counts <- policy_bigrams_separated %>% 
  count(word1, word2, sort = TRUE)


# Adjust the parameter below to filter out based on number of occurrence

# Error will occur if n is outide the range of occurrences 

policy_bigram_graph <- policy_bigram_counts %>%
  filter(n > 10) %>%
  graph_from_data_frame()

set.seed(2021)

a <- grid::arrow(type = "closed", length = unit(.15, "inches"))
```

```{r policy-visual, echo=FALSE, fig.align = 'center', out.width = "1\\linewidth", fig.cap = "\\label{fig:policy-visual}Most common bigrams found across all policy documents (i.e., school board, municipality, and transportation consortia combined)."}
ggraph(policy_bigram_graph, layout = "fr") +
  geom_edge_link(aes(edge_alpha = n), show.legend = FALSE,
                 arrow = a, end_cap = circle(.07, 'inches')) +
  geom_node_point(color = "purple", size = 4) +
  geom_node_text(aes(label = name), repel = TRUE) + 
  theme_void()
```

Bigrams refer to pairs of consecutive words. We combined all municipality, school board, and transportation consortia documents into the policy+practice corpus. Figure \ref{fig:policy-visual} shows all of the bigrams that occur more than 10 times in this corpus. This figure highlights the main ideas that are presented to the public in each of the policy corpora. The directional arrows indicate the arrangement of the words (e.g., active travel and not travel active) and the colour gradient of the arrows corresponds to the most frequently mentioned pairs (e.g., bigrams with darker arrows are found in the corpus more often).

STP stakeholders discuss _physical activity_ and _public health_ in the context of AST. In addition, _travel planning_, _bike lanes_, and _safe routes_ are also identified, conceivably as either proposed solutions or built environment factors that support AST. Key issues related to transport such as _traffic safety_, _air quality_, and _greenhouse gases_ are conveyed to the public through these policy documents. It is not surprising to find this focus given that municipalities in Ontario are concerned about climate change and have increasingly looked to active travel to offset transport-related emissions in urban areas. We also found _mental health_, _walk zone_, and _green communities_ as common pairs of consecutive words. The latter makes sense given the involvment of  _Green Communities Canada_ in AST initiatives in Ontario. Overall, the policy documents from STP stakeholder groups seem to focus on four key areas: i) benefits or impacts of AST; ii) mechanisms of intervention; iii) concerns or barriers; and iv) supports for AST. This interpretation indicates that the general public accessing information about AST in Ontario is informed about a wide range of content related to this issue.

Next, we analyzed bigrams in the academic corpus separately to compare with the policy+practice corpus. Figure \ref{fig:academic-visual} indicates that academic papers include several common bigrams that were also found in the policy documents including _physical activity_, which is the top bigram, as well as _traffic safety_ and _safe routes_. However, many other factors are identified in the academic corpus that are not presented to the general public through policy documents. Terms like _built environment_, _independent mobility_, and _urban form_ are examples of these factors. Academic papers also often discuss _distance home_, _car ownership_, _household income_, and _population density_, which are factors that have been found to influence AST. Finally, the presence of _statistically significant_ among the top bigrams indicates that researchers often aim to identify associations using statistical measures. We found that the academic corpus focuses on a greater range of topics than found in the policy+practice documents.

```{r, include=FALSE}
academic_bigrams_separated <- academic_bigrams %>%
  separate(bigram, c("word1", "word2"), sep = " ")

academic_bigram_counts <- academic_bigrams_separated %>% 
  count(word1, word2, sort = TRUE)

# Adjust the parameter below to filter out based on number of occurrence

# Error will occur if n is outside the range of occurrences 

academic_bigram_graph <- academic_bigram_counts %>%
  filter(n > 200) %>%
  graph_from_data_frame()

set.seed(2021)

a <- grid::arrow(type = "closed", length = unit(.15, "inches"))
```

```{r, academic-visual, echo=FALSE, fig.align = 'center', out.width = "1\\linewidth", fig.cap = "\\label{fig:academic-visual}Most common bigrams found in the academic papers."}
ggraph(academic_bigram_graph, layout = "fr") +
  geom_edge_link(aes(edge_alpha = n), show.legend = FALSE,
                 arrow = a, end_cap = circle(.07, 'inches')) +
  geom_node_point(color = "lightgreen", size = 4) +
  geom_node_text(aes(label = name), repel = TRUE) + 
  theme_void()
```

We interpreted the most common bigrams from the policy+practice corpus (see Figure \ref{fig:policy-visual}) as the main ideas that STP stakeholder groups focus on and communicate to the public about AST. We then examined the context of these key ideas by extracting words-in-context from the corpora. Table \ref{tab:policy-concordance} presents some examples from select policy documents that illustrate how the most common bigrams are communicated to the public.

```{r policy-concordance, echo=FALSE}
# Import raw policy VCorpus (not cleaned of stop words or punctuation) created by tm package

policy_quanteda <- tm::VCorpus(tm::VectorSource(raw_policy_corpus))
policy_quanteda <- corpus(policy_quanteda)

# Extraction of various search terms and the surrounding sentence context

kwic_pol_physical <- kwic(tokens(policy_quanteda), pattern = "physical", window = 10)
kwic_pol_mental <- kwic(tokens(policy_quanteda), pattern = "mental", window = 10)
kwic_pol_air <- kwic(tokens(policy_quanteda), pattern = "air", window = 10)
kwic_pol_traffic <- kwic(tokens(policy_quanteda), pattern = "traffic", window = 10)
kwic_pol_safety <- kwic(tokens(policy_quanteda), pattern = "safety", window = 10)
kwic_pol_health <- kwic(tokens(policy_quanteda), pattern = "health", window = 10)
kwic_pol_emissions <- kwic(tokens(policy_quanteda), pattern = "emissions", window = 10)
kwic_pol_routes <- kwic(tokens(policy_quanteda), pattern = "routes", window = 10)
kwic_pol_lanes <- kwic(tokens(policy_quanteda), pattern = "lanes", window = 10)
kwic_pol_zone <- kwic(tokens(policy_quanteda), pattern = "zone", window = 10)
kwic_pol_bus <- kwic(tokens(policy_quanteda), pattern = "bus", window = 10)
kwic_pol_comm <- kwic(tokens(policy_quanteda), pattern = "community", window = 10)
kwic_pol_ben <- kwic(tokens(policy_quanteda), pattern = "benefit", window = 10)
kwic_pol_wea <- kwic(tokens(policy_quanteda), pattern = "weather", window = 10)
```

```{r content-table, echo=FALSE}
text_tbl <- data.frame(
  Terms = c("Air Quality", 
            "Benefit", 
            "Walking School Bus", 
            "Community", 
            "Emissions", 
            "Health", 
            "Lanes", 
            "Mental Health", 
            "Physical Health"),
  Stakeholder = c("School Board", 
                  "Municipality", 
                  "School Board", 
                  "School Board", 
                  "Consortia", 
                  "Municipality", 
                  "Municipality", 
                  "Municipality", 
                  "Municipality"),
  Context = c("Active transportation [...] improves air quality.",
              "Stronger bones and muscles, improved self-esteem and sense of well-being while reducing stress and risk of chronic disease all benefit those who use active transportation.",
              "While taking part in a walking school bus, your child will enjoy seeing friends on the way to school. They will be active more often. This is also a great opportunity for your child to socialize with school friends in a monitored and safe way where they can practice social distancing, modelled by a leader.", 
              "Help your students get started on the right foot - encourage them to walk or bike to school when possible. Even leaving the car a block or two and walking the rest of the way helps. It’s good for the environment and your health, and teaches your child independence and community awareness.",
              "An active school commute also reduces congestion in school zones and contributes to reducing greenhouse gas emissions – it’s a win-win for everyone!", 
              "Active School Travel allows school-aged children the chance to participate in moderate to intense physical activity. This is linked with lower body mass index and improved cardiovascular health.", 
              "We are continuing to build on the cycling and pedestrian network by adding more bike lanes, building multi-use paths and encouraging developments to provide better pedestrian/cycling environments.", 
              "Active and Sustainable School Travel (ASST) not only improves physical and mental health but contributes to a healthier environment and safer streets.", 
              "Encouraging Active Transportation promotes physical health and recreation, helps manage congestion, reduces emissions and supports municipal objectives for efficient land use.")
)

kbl(text_tbl,
    booktabs = TRUE,
    caption = "\\label{tab:policy-concordance}The context of key terms that were identified as common bigrams.") %>%
  kable_paper(full_width = F) %>%
  kable_styling(latex_options = c("striped")) %>%
  column_spec(1, bold = T) %>%
  column_spec(3, width = "20em")
```

## Topic modelling

```{r corpus-dtm, include=FALSE}
# Create DTM from corpus

municipal_dtm <- DocumentTermMatrix(municipal_corpus)
school_dtm <- DocumentTermMatrix(school_corpus)
consortia_dtm <- DocumentTermMatrix(consortium_corpus)
policy_dtm <- DocumentTermMatrix(policy_corpus)
academic_dtm <- DocumentTermMatrix(academic_corpus_repaired)
```

```{r topics-number, include=FALSE}
# Select number of topics for each LDA model using `ldatuning` 

municipal_lda_num <- FindTopicsNumber(
  municipal_dtm, 
  topics = seq(from = 2, to = 15, by = 1),
  metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010", "Deveaud2014"),
  method = "Gibbs",
  #control = list(seed = 77),
  #mc.cores = 2L,
  #verbose = TRUE
)

school_lda_num <- FindTopicsNumber(
  school_dtm, 
  topics = seq(from = 2, to = 15, by = 1),
  metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010", "Deveaud2014"),
  method = "Gibbs",
  #control = list(seed = 77),
  #mc.cores = 2L,
  #verbose = TRUE
)

consortia_lda_num <- FindTopicsNumber(
  consortia_dtm, 
  topics = seq(from = 2, to = 15, by = 1),
  metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010", "Deveaud2014"),
  method = "Gibbs",
  #control = list(seed = 77),
  #mc.cores = 2L,
  #verbose = TRUE
)

policy_lda_num <- FindTopicsNumber(
  policy_dtm,
  topics = seq(from = 2, to = 15, by = 1),
  metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010", "Deveaud2014"),
  method = "Gibbs",
  #control = list(seed = 77),
  #mc.cores = 2L,
  #verbose = TRUE
)
```

```{r topics-academic, include=FALSE, cache=TRUE}
#DO NOT RUN EVERY TIME - takes approximately 20 minutes

academic_lda_num <- FindTopicsNumber(
  academic_dtm, 
  topics = seq(from = 2, to = 25, by = 1),
  metrics = c("Griffiths2004", "CaoJuan2009", "Arun2010", "Deveaud2014"),
  method = "Gibbs")
  #control = list(seed = 77),
  #mc.cores = 2L,
  #verbose = TRUE)
```

```{r evaluate-lda, include=FALSE}

FindTopicsNumber_plot(municipal_lda_num)
FindTopicsNumber_plot(school_lda_num)
FindTopicsNumber_plot(consortia_lda_num)
FindTopicsNumber_plot(policy_lda_num)
FindTopicsNumber_plot(academic_lda_num)

# The graphs suggest that there are 7-10 topics for the municipal corpora
# The graphs suggest that there are 7-10 topics for the school corpora
# The graphs suggest that there are 8-10 topics for the consortia corpora
# The graphs suggest that there are 9-13 topics for the policy corpora
# The graphs suggest that there are 17-21 topics for the academic corpora
```

```{r corpus-lda-model, cache = TRUE, include=FALSE}
municipal_lda <- LDA(municipal_dtm, k = 4, method = "Gibbs", control = NULL, model = NULL)

school_lda <- LDA(school_dtm, k = 4, method = "Gibbs", control = NULL, model = NULL)

consortia_lda <- LDA(consortia_dtm, k = 4, method = "Gibbs", control = NULL, model = NULL)

policy_lda <- LDA(policy_dtm, k = 9, method = "Gibbs", control = NULL, model = NULL)

academic_lda <- LDA(academic_dtm, k = 11, method = "Gibbs", control = NULL, model = NULL)
```

```{r municipal-topics, include=FALSE}
municipal_topics <- tidy(municipal_lda, matrix = "beta")
school_topics <- tidy(school_lda, matrix = "beta")
consortia_topics <- tidy(consortia_lda, matrix = "beta")
policy_topics <- tidy(policy_lda, matrix = "beta")
academic_topics <- tidy(academic_lda, matrix = "beta")
```

```{r municipal-terms, include=FALSE}
municipal_top_terms <- municipal_topics %>%
  group_by(topic) %>%
  slice_max(beta, n = 10) %>% 
  ungroup() %>%
  arrange(topic, -beta)

municipal_top_terms %>%
  mutate(term = reorder_within(term, beta, topic)) %>%
  ggplot(aes(beta, term, fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free") +
  scale_y_reordered() +
  theme(axis.text = element_text(size = 7),
        axis.text.x = element_text(angle = 90))
```

```{r school-terms, include=FALSE}
school_top_terms <- school_topics %>%
  group_by(topic) %>%
  slice_max(beta, n = 10) %>% 
  ungroup() %>%
  arrange(topic, -beta)

school_top_terms %>%
  mutate(term = reorder_within(term, beta, topic)) %>%
  ggplot(aes(beta, term, fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free") +
  scale_y_reordered() +
  theme(axis.text.x = element_text(angle = 90))
```

```{r consortia-terms, include=FALSE}
consortia_top_terms <- consortia_topics %>%
  group_by(topic) %>%
  slice_max(beta, n = 10) %>% 
  ungroup() %>%
  arrange(topic, -beta)

consortia_top_terms %>%
  mutate(term = reorder_within(term, beta, topic)) %>%
  ggplot(aes(beta, term, fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free") +
  scale_y_reordered() +
  theme(axis.text.x = element_text(angle = 90))
```

```{r policy-terms, echo=FALSE, out.width="1\\linewidth", fig.cap="\\label{fig:policy-terms}Topics identified in the policy+practice corpus according to clusters of words. The per-word-per-topic probabilities are shown by beta."}
policy_top_terms <- policy_topics %>%
  group_by(topic) %>%
  slice_max(beta, n = 10) %>% 
  ungroup() %>%
  arrange(topic, -beta)

policy_top_terms %>%
  mutate(term = reorder_within(term, beta, topic)) %>%
  ggplot(aes(beta, term, fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free") +
  scale_y_reordered() +
  theme(axis.text.x = element_text(angle = 90))
```

```{r academic-terms, echo=FALSE, out.width="1\\linewidth", cache=TRUE, fig.cap="\\label{fig:academic-terms}Topics identified in the academic corpus according to clusters of words. The per-word-per-topic probabilities are shown by beta."}

academic_top_terms <- academic_topics %>%
  group_by(topic) %>%
  slice_max(beta, n = 10) %>% 
  ungroup() %>%
  arrange(topic, -beta)

academic_top_terms %>%
  mutate(term = reorder_within(term, beta, topic)) %>%
  ggplot(aes(beta, term, fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free") +
  scale_y_reordered() +
  theme(axis.text = element_text(size = 6),
        axis.text.x = element_text(angle = 90))
```

We conducted topic modelling to examine the different topics found in the policy+practice and academic corpora. We estimated Latent Dirichlet Allocation (LDA) models for each corpus. Parameter tuning suggests that the policy+practice corpus has between 9 and 13 topics and the academic corpus has between 17 and 25 topics. After running the LDA model for the academic corpus, we realized the difficulty of interpreting as many as 17 topics based on the clusters of words that were identified. We experimented with the model by adjusting the number of topics and evaluating the output of terms in each topic. We found that there were 9 distinct topics that could be interpreted in the policy+practice corpus and 11 topics in the academic corpus, after which there was too much overlap for the clusters to be meaningfully distinguished. Figures \ref{fig:policy-terms} and \ref{fig:academic-terms} present the main terms associated with the topics found in each corpus. 

In the policy+practice corpus, we identified the following topics based on the cluster of words: (1) safety; (2) weather and busing; (3) active travel planning; (4) walking; (5) resources for walking; (6) bicycling; (7) active travel concerns; (8) benefits of active travel; and (9) busing logistics. These topics indicate that STP stakeholder groups are sending the message that walking and bicycling to school are healthy travel modes for students, particularly in terms of physical activity. We also found that information is shared to support parents and students in using active modes to school, for example regarding the availability of bicycling lanes and tips for route choice for walking. 

The academic corpus has a higher number of topics likely due to the volume of papers included. The following topics were identified based on the clusters of words: (1) physical activity; (2) safe routes to school for active travel; (3) behaviors and attitudes; (4) bicycling; (5) walking; (6) built environment; (7) trip choice; (8) active school travel interventions; (9) parents; (10) children's independent mobility; and (11) public health and policies. This corpus reflects a broader range of topics than the policy+practice corpus.

## Frames

Based on the identified  bigrams and topics, we determined that the policy+practice corpus primarily frames AST as a health and environmental issue. STP stakeholder groups appear to position walking, bicycling, or rolling to school as beneficial to individual health, via physical activity and improved mental health, and to the broader community through a reduction in traffic and vehicle emissions. Here, we present an example that illustrates how the health and environmental frame is communicated:

> _Active school travel is a great way for children to be physically active, which is associated with improved physical and mental health, while making school zones safer, by reducing traffic volumes at and around schools._(Region of Leeds, Grenville and Lanark)

Furthermore, we found that policy documents make claims about the benefits of AST that are consistent with the findings of academic research and evaluation. 

> _There are lots of benefits in the classroom for children that walk or cycle to school on a regular basis. Some of these benefits include improved concentration and better coping with stress. Being outside helps to prevent feelings of isolation and increases their social interactions. Walking and biking to school can also save you money and lead to fewer cars on the road._ (City of Ottawa)

The secondary frame in policy documents is that AST is accessible and feasible for children and parents. Despite the emphasis on the logistics of busing in the topic modelling, the documents indicate that there is an opportunity for or prospect of behavior change. Some cities and schools explain how children and parents can leave the car at home and make the journey to school on foot or by bike. This frame encourages the public to evaluate their own travel decisions and to access resources (e.g., walking skills checklist) that will help them make AST a first choice. Examples of this secondary frame include:

> _Help your students get started on the right foot - encourage them to walk or bike to school when possible.  Even leaving the car a block or two and walking the rest of the way helps. It’s good for the environment and your health, and teaches your child independence and community awareness._ (Halton District School Board)

Finally, both frames present the benefits of AST. STP stakeholder groups seem to be communicating that AST is a healthy and accessible option as a result of school travel plans and improvements to the built environment. This could include examples of various efforts that are underway to support AST including route planning.

> _School Travel Planning is a community-based approach that aims to increase the number of students and adults choosing active and sustainable travel to get to and from school. This approach addresses concerns about safety, physical activity, and the environment._ (City of Hamilton)

Beyond supporting communities to develop STPs, these frames tend to place responsibility for change squarely on the members of the community:

> _A way to make sure your child is safe while walking to school is with a ‘walking school bus.’ Here are some tips for a walking schoolbus...[tips]...Have fun!_ (City of Ottawa)

Discussion
===============

## Current AST frames in Ontario

In Ontario, municipalities, school boards and transportation consortia do not consistently include AST in their public communications. Indeed, as noted above, less than 50% of documents from these organizations discuss AST.  Interpretation of the text assisted by natural language processing reveals that when AST is discussed, the primary frame emphasizes its benefits to the health and wellbeing of both children and the environment. In the rest of the documents, the primary way AST is framed tends to emphasize the benefits to the health and wellbeing of children and to the environment. The policy documents reflect the evidence that AST contributes positively to children's physical health [see @faulknerActiveSchoolTransport2009; @schoeppeAssociationsChildrenActive2015], although the statements regarding the benefits of AST to children's school performance are less well-supported in the extant literature [@westmanTravelChildWellbeing2020]. STP stakeholder groups also communicate that increasing AST may reduce traffic near and around schools. This is conveyed presumably to alleviate parental concerns about traffic and safety [@eversParentSafetyPerceptions2014; @mammenUnderstandingDriveEscort2012; @rothmanAssociationsParentsPerception2015; @wilsonUnderstandingChildParent2018] or to reduce the frequency of risky behaviors from drivers around schools [@rothmanSchoolEnvironmentStudent2017]. 

In the secondary frame, AST is presented as an accessible and feasible way for children to travel to and from school. Children and parents are encouraged to adopt new travel behaviors. STP stakeholder groups identified different ways that parents could encourage or support their children to commute to school by using active modes (e.g., walking tip sheets, walking school buses, etc.). The general emphasis of this frame is communicating information that could change parental perceptions about the ease of their children using active modes to school, which may be seen by STP stakeholder groups as a "modifiable" factor [see @riaziCorrelatesChildrenIndependent2019]. In turn, this could encourage parents to modify their routines and incorporate opportunities for their children to use active modes to school.

Both frames present AST in a positive light, by highlighting the potential benefits. However, neither frame appears to explain why declining rates of AST are a problem or convey any urgency to this issue so that it attracts the attention of parents, the general public, or policy makers. For example, parents who drive their children to school have reported concerns about traffic volume around schools [@mammenUnderstandingDriveEscort2012], but may not recognize that their own behavior contributes to the problem that is perceived to prevent their child from safely walking or bicycling to school [@collinsSafeJourneysEnterprising2001; @rothmanSchoolEnvironmentStudent2017]. There is evidence that negative framing is more effective at eliciting responses than positive framing [e.g., @kahneman1979interpretation; @waygoodCO2ValenceFraming2018]. In this case, the frames emphasize the positive side of active travel but leave the negative impacts of behaviors such driving children to school out of the frame.

Further, behavior change is mainly presented as an option for some but not an imperative for all, which keeps collective action through government entities out of the frame. This echoes the findings of Reynard et al. [-@reynardGrowthResilienceHow2021], who found in their analysis of Canadian municipal documents that one of the dominant frames was to present behaviors that help mitigate the climate crisis as an individual choice but not "the expected norm", or what society approves of, i.e., an injunctive norm [@lapinski2005explication]. In this case, a stronger case of society's disapproval remains to be made. 

Overall, we find that the proposed solutions in the secondary frame reinforce some of the same ideas: 1) behavior change from households making different travel decisions (individual responsibility); 2) policies that create resources for AST (mainly through education and planning); and 3) engineering solutions like bicycle lanes. This reflects findings from the AST literature that a range of solutions are needed to address different factors that influence AST [_inter alia, see_ @mitraIndependentMobilityMode2013; @panterAttitudesSocialSupport2010]. The recognition of engineering changes may reflect the strong engagement of engineering staff and municipal representatives in the Canadian STP process [@buttazzoniSupportingActiveSchool2018; @mammenPuttingSchoolTravel2015], as well as the evidence that the built environment influences mode choice to school. However, these measures tend to support the desired behavior without confronting the problem behavior with interventions such as forbidding drop-off within 100 m of the school, restricting vehicular traffic to only local traffic around schools at school-commute times, such as found in countries where nearly no children die while going to school [@waygood2020japan]. 

As well as what is _in_ the frame, it is also interesting to look for what is _not_ there. The conservative orientation of the frames does not fundamentally challenge the status quo: not surprisingly, the frames advocate the option of active travel for those who are interested in realizing its benefits, but do not make a case for fundamental changes to the local environment, and also do not present a moral imperative for change  [@severson2015moral]. The individualistic approach also means that a call for collective action tends to be missing.

## Policy implications

Starting in 2017, the province of Ontario has had a policy of supporting communities develop Active School Travel initiatives. By 2021, this initiative had awarded millions of dollars to over 25 projects across the province, including for School Travel Plans (STP). As we noted in Section \ref{stp-frames}, STP in Ontario rely heavily on education and encouragement. From the get-go, these are not the strongest policy tools, compared to, say, construction of infrastructure, regulation, or transfers [see @ohare1989typology]. 

Given the weight that education and encouragement are expected to carry in the process, it is important to understand how the relevant issues are communicated to the public. The results of the research indicate that various authorities in Ontario frame AST in a conservative way that dilutes the force of STP interventions. If we had to paraphrase the way AST is framed across the province, it would be like this: "eating spinach is good for you; here are some tips to help you choose spinach." The issues are presented as a matter of personal choice, where action is purely optional, and lacking a sense of urgency. While emphasizing the risks may seem counterproductive, generating awareness of consequences of a lack of action has been found to be effective at motivating change [e.g., @lawlor2018risk; @waygoodCO2ValenceFraming2018]. Accordingly, communications with the public would do well to emphasize the risks associated with continued use of nonactive modes to school. 

In addition to privileging choice, the frames tend to leave out a number of household determinants of AST. There was little discussion of socio-economic and demographic attributes associated with AST, such as age of children, parental education, income, and ethnicity [@rothmanDeclineActiveSchool2018]. Similarly, there was no discussion about the role of convenience and inclement weather in shaping household travel decisions [@buliungSchoolTravelPlanning2011] and the complexity of travel arrangements that must be coordinated by households [see @buliungLivingJourneySchool2021]. The desire to escort children to school, which has been noted by parents as a reason to continue driving [@westmanWhatDrivesThem2017], is also not adequately addressed by STP stakeholders. Parental assessment of a child's ability to undertake the journey to school was likewise overlooked despite its role in decision making for mode choice to school [@faulknerWhatQuickestEasiest2010]. Framing AST as a developmental opportunity or a rite of passage that children have been denied could challenge the prevailing culture of risk avoidance which discourages parents from letting their children use active modes to school. 

Assuming that School Travel Plans will continue to be emphasized as one of the key policies to increase Active School Travel in Ontario, we suggest that the way the issues are framed by authorities and communities be revised as follows:

1. Active School Travel is already presented in a positive light ("it is good for you"), but the risks of inaction are not sufficiently communicated ("continued used of fossil fuels threatens our natural environment").
1. Individual choices are important ("here are tips to choose spinach"), but collective action is more effective ("we all need to eat some spinach"). Accordingly, AST should be presented as a choice that not only some individuals make, but importantly, that communities make _sometimes through their authorities_.
1. Recognize variations in capabilities in STP; framing AST as a war on some mobility styles confounds the need for certain mobility styles by people with various financial and physical capabilities.
1. Recognize the agency of children, as their voices do not seem to be properly reflected in any of the frames.

Conclusion
===============

In this paper we examined how AST is framed in Ontario. Our analysis was supported by the use of natural language processing techniques, and reavealed that STP stakeholders frame AST as an accessible and feasible way to travel to school that is valuable to children's health and to the environment. STP stakeholders are communicating that this issue can be addressed through household behavior change and policy solutions. Policy documents reveal that STP stakeholders are focusing on "modifiable factors" such as parental perceptions or micro-scale elements in the built environment to increase rates of AST. However, AST may not be framed sufficiently as a "problem" that requires urgent intervention, which may impact how parents respond to behavior change initiatives and limit awareness in the general public. In their public materials about AST, STP stakeholders should emphasize why AST rates should increase in local communities and how the negative effects of nonactive modes to school may impact children's health and wellbeing. In summary, AST is presented in terms of potential benefits, but there is no real discussion whether they can be realized with only modest adjustments to the status quo.

In terms of future research, we suggest the need for further investigation into how parents or the general public respond to messages or information that encourages the adoption of AST and evaluate which are most effective. It would be helpful to understand which frames would most encourage behavior change or increase political support for interventions that address barriers to AST. This type of information could ensure that educational strategies and promotional materials increase buy-in for their target audience. If Canadian STP stakeholders wish to involve more local residents in their efforts [@buttazzoniSupportingActiveSchool2018], it would also be worthwhile for them to produce different materials that communicate why this issue is important to the general public, regardless of whether they currently have children commuting to/from school.

It is pertinent at this point to note that a limitation of this study is that we only analyzed English-language texts that were easily accessible to the general public on the websites of STP stakeholders in Ontario. We did not include French-language materials from Ontario's 12 French school boards (a mixture of public and Catholic schools). Parents likely receive information about AST directly from schools, which may contain more content that reflects the local barriers to AST, but these materials were not used in our analysis.

Finally, we would like to close with a brief note on the methodology. Natural language processing and analysis of frames are still not widely adopted in transportation research. Based on our experience, we tend to see computer-assisted text analysis as a complement to rather than a substitute for expert reading of the documents. We would not recommend to proceed to interpretation without reading the documents, but the supervised automation helps to detect patterns that can be validated by an expert based on spot checks or more in-depth reading of the original sources. Like with any qualitative research, interpretation of the frames may differ by expert; in this research we aimed to develop a consensus interpretation by involving all authors in the discussion of the results. Furthermore, since the research is an open, reproducible project, all our assumptions are open to scrutiny and others use the data to check and/or expand the analysis presented here.

References
===============
